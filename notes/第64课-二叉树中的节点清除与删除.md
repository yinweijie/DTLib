1. 定义`private`的`remove`函数

```cpp
private:
    virtual void remove(BTreeNode<T>* node, BTree<T>*& ret)
    {
        ret = new BTree<T>();

        if(ret != nullptr)
        {
            if(root() == node)
            {
                this->m_root = nullptr;
            }
            else
            {
                BTreeNode<T>* parent = dynamic_cast<BTreeNode<T>*>(node->parent);

                if(parent->left == node)
                {
                    parent->left = nullptr;
                }
                if(parent->right == node)
                {
                    parent->right = nullptr;
                }

                node->parent = nullptr;
            }

            ret->m_root = node;
        }
        else
        {
            THROW_EXCEPTION(NoEnoughMemoryException, "No memory to create node");
        }
    }
```

2. 定义`public`的`remove`函数

```cpp
public:
    SharedPointer<Tree<T>> remove(const T& value) override
    {
        BTree<T>* ret = nullptr;

        BTreeNode<T>* node = find(value);

        if(node != nullptr)
        {
            remove(node, ret);
        }
        else
        {
            THROW_EXCEPTION(InvalidParameterException, "Cannot find node via given value ...");
        }

        return ret;
    }

    SharedPointer<Tree<T>> remove(TreeNode<T>* node) override
    {
        BTree<T>* ret = nullptr;

        node = find(node);

        if(node != nullptr)
        {
            remove(dynamic_cast<BTreeNode<T>*>(node), ret);
        }
        else
        {
            THROW_EXCEPTION(InvalidParameterException, "Paramter node is invalid ...");
        }

        return ret;
    }
```

3. 定义`free`函数，用来释放整个树节点

```cpp
private:
    virtual void free(BTreeNode<T>* node)
    {
        if(node != nullptr)
        {
            free(node->left);
            free(node->right);

            if(node->flag())
            {
                delete node;
            }
        }

    }
```

4. 定义`clear`函数，在其中调用`free`，并将`m_root`置空

```cpp
public:
    void clear() override
    {
        free(root());

        this->m_root = nullptr;
    }
```